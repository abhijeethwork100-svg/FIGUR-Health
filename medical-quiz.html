<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medical Eligibility Quiz ‚Äî Figur Health</title>
  <meta name="description"
    content="Find out if you're eligible for GLP-1 weight loss treatment with Figur Health. Take our quick medical eligibility quiz.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --navy: #0A192F;
      --navy-light: #112240;
      --navy-mid: #1a3a5c;
      --gold: #D4AF37;
      --gold-light: #e8c84a;
      --white: #FAFAFA;
      --text: #1a1a2e;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --success: #10b981;
      --danger: #ef4444;
      --warn: #f59e0b;
      --card-bg: #ffffff;
      --radius: 16px;
      --shadow: 0 4px 24px rgba(10, 25, 47, 0.10);
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--white);
      color: var(--text);
      min-height: 100vh;
    }

    /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
    nav {
      background: var(--navy);
      padding: 0 2rem;
      height: 68px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 16px rgba(0, 0, 0, 0.18);
    }

    .nav-logo img {
      height: 44px;
      width: auto;
      background: #FAFAFA;
      border-radius: 8px;
      padding: 3px 8px;
      object-fit: contain;
    }

    .nav-back {
      color: var(--gold);
      text-decoration: none;
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: opacity 0.2s;
    }

    .nav-back:hover {
      opacity: 0.8;
    }

    /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
    .quiz-hero {
      background: linear-gradient(135deg, var(--navy) 0%, var(--navy-mid) 100%);
      padding: 3.5rem 1.5rem 2.5rem;
      text-align: center;
      color: white;
    }

    .quiz-hero .badge {
      display: inline-block;
      background: rgba(212, 175, 55, 0.18);
      border: 1px solid rgba(212, 175, 55, 0.4);
      color: var(--gold);
      font-family: 'Montserrat', sans-serif;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      padding: 6px 16px;
      border-radius: 100px;
      margin-bottom: 1.2rem;
    }

    .quiz-hero h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: clamp(1.8rem, 4vw, 2.8rem);
      font-weight: 800;
      margin-bottom: 0.8rem;
      line-height: 1.2;
    }

    .quiz-hero h1 span {
      color: var(--gold);
    }

    .quiz-hero p {
      color: rgba(255, 255, 255, 0.75);
      font-size: 1.05rem;
      max-width: 520px;
      margin: 0 auto 1.5rem;
      line-height: 1.6;
    }

    .trust-pills {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    .trust-pill {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: rgba(255, 255, 255, 0.85);
      font-size: 0.8rem;
      padding: 5px 14px;
      border-radius: 100px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* ‚îÄ‚îÄ PROGRESS ‚îÄ‚îÄ */
    .progress-wrap {
      background: white;
      padding: 1.2rem 1.5rem;
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 68px;
      z-index: 90;
    }

    .progress-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .progress-label {
      font-family: 'Montserrat', sans-serif;
      font-size: 0.8rem;
      font-weight: 700;
      color: var(--navy);
    }

    .progress-pct {
      font-size: 0.8rem;
      color: var(--text-muted);
      font-weight: 600;
    }

    .progress-bar-track {
      height: 6px;
      background: var(--border);
      border-radius: 100px;
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--gold), var(--gold-light));
      border-radius: 100px;
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* ‚îÄ‚îÄ QUIZ CONTAINER ‚îÄ‚îÄ */
    .quiz-container {
      max-width: 680px;
      margin: 0 auto;
      padding: 2rem 1.5rem 4rem;
    }

    /* ‚îÄ‚îÄ STEP CARD ‚îÄ‚îÄ */
    .step-card {
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 2.5rem;
      display: none;
      animation: fadeSlide 0.4s ease;
    }

    .step-card.active {
      display: block;
    }

    @keyframes fadeSlide {
      from {
        opacity: 0;
        transform: translateY(16px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .step-number {
      font-family: 'Montserrat', sans-serif;
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--gold);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin-bottom: 0.6rem;
    }

    .step-question {
      font-family: 'Montserrat', sans-serif;
      font-size: clamp(1.1rem, 2.5vw, 1.4rem);
      font-weight: 700;
      color: var(--navy);
      margin-bottom: 0.5rem;
      line-height: 1.35;
    }

    .step-hint {
      font-size: 0.88rem;
      color: var(--text-muted);
      margin-bottom: 1.8rem;
      line-height: 1.5;
    }

    /* ‚îÄ‚îÄ OPTIONS ‚îÄ‚îÄ */
    .options-grid {
      display: grid;
      gap: 12px;
    }

    .options-grid.two-col {
      grid-template-columns: 1fr 1fr;
    }

    .option-btn {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 1rem 1.2rem;
      border: 2px solid var(--border);
      border-radius: 12px;
      background: white;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      font-family: 'Inter', sans-serif;
      font-size: 0.95rem;
      color: var(--text);
      font-weight: 500;
    }

    .option-btn:hover {
      border-color: var(--gold);
      background: rgba(212, 175, 55, 0.04);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.15);
    }

    .option-btn.selected {
      border-color: var(--gold);
      background: rgba(212, 175, 55, 0.08);
      color: var(--navy);
    }

    .option-btn .opt-icon {
      font-size: 1.4rem;
      flex-shrink: 0;
      width: 36px;
      text-align: center;
    }

    .option-btn .opt-text {
      flex: 1;
    }

    .option-btn .opt-text strong {
      display: block;
      font-weight: 600;
    }

    .option-btn .opt-text span {
      font-size: 0.82rem;
      color: var(--text-muted);
      font-weight: 400;
    }

    .option-btn .check {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      border: 2px solid var(--border);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .option-btn.selected .check {
      background: var(--gold);
      border-color: var(--gold);
    }

    .option-btn.selected .check::after {
      content: '‚úì';
      color: white;
      font-size: 0.7rem;
      font-weight: 700;
    }

    /* ‚îÄ‚îÄ BMI INPUT ‚îÄ‚îÄ */
    .bmi-inputs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 1.5rem;
    }

    .input-group label {
      display: block;
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--navy);
      margin-bottom: 6px;
      font-family: 'Montserrat', sans-serif;
    }

    .input-group input {
      width: 100%;
      padding: 0.85rem 1rem;
      border: 2px solid var(--border);
      border-radius: 10px;
      font-size: 1rem;
      font-family: 'Inter', sans-serif;
      color: var(--text);
      transition: border-color 0.2s;
      outline: none;
    }

    .input-group input:focus {
      border-color: var(--gold);
    }

    .bmi-result {
      background: var(--navy);
      color: white;
      border-radius: 12px;
      padding: 1rem 1.2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-family: 'Montserrat', sans-serif;
      font-size: 0.9rem;
    }

    .bmi-result .bmi-val {
      font-size: 1.6rem;
      font-weight: 800;
      color: var(--gold);
    }

    .bmi-result .bmi-cat {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.7);
    }

    /* ‚îÄ‚îÄ CHECKBOX OPTIONS ‚îÄ‚îÄ */
    .checkbox-option {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 0.9rem 1.1rem;
      border: 2px solid var(--border);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
      margin-bottom: 10px;
    }

    .checkbox-option:hover {
      border-color: var(--gold);
      background: rgba(212, 175, 55, 0.04);
    }

    .checkbox-option.checked {
      border-color: var(--gold);
      background: rgba(212, 175, 55, 0.08);
    }

    .checkbox-option input[type="checkbox"] {
      display: none;
    }

    .custom-checkbox {
      width: 22px;
      height: 22px;
      border-radius: 6px;
      border: 2px solid var(--border);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      margin-top: 1px;
    }

    .checkbox-option.checked .custom-checkbox {
      background: var(--gold);
      border-color: var(--gold);
    }

    .checkbox-option.checked .custom-checkbox::after {
      content: '‚úì';
      color: white;
      font-size: 0.7rem;
      font-weight: 700;
    }

    .checkbox-label {
      font-size: 0.93rem;
      font-weight: 500;
      color: var(--text);
      line-height: 1.4;
    }

    .checkbox-label small {
      display: block;
      color: var(--text-muted);
      font-size: 0.8rem;
      font-weight: 400;
    }

    /* ‚îÄ‚îÄ NAVIGATION BUTTONS ‚îÄ‚îÄ */
    .step-nav {
      display: flex;
      gap: 12px;
      margin-top: 2rem;
      align-items: center;
    }

    .btn-back {
      padding: 0.85rem 1.5rem;
      border: 2px solid var(--border);
      border-radius: 10px;
      background: white;
      color: var(--text-muted);
      font-family: 'Montserrat', sans-serif;
      font-size: 0.88rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-back:hover {
      border-color: var(--navy);
      color: var(--navy);
    }

    .btn-next {
      flex: 1;
      padding: 0.95rem 1.5rem;
      background: var(--gold);
      color: var(--navy);
      border: none;
      border-radius: 10px;
      font-family: 'Montserrat', sans-serif;
      font-size: 0.95rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-next:hover {
      background: var(--gold-light);
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.35);
    }

    .btn-next:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    /* ‚îÄ‚îÄ RESULT CARDS ‚îÄ‚îÄ */
    .result-card {
      border-radius: var(--radius);
      padding: 2.5rem;
      text-align: center;
      display: none;
      animation: fadeSlide 0.5s ease;
    }

    .result-card.active {
      display: block;
    }

    .result-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      margin: 0 auto 1.5rem;
    }

    .result-card h2 {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.8rem;
      font-weight: 800;
      margin-bottom: 0.8rem;
    }

    .result-card p {
      font-size: 1rem;
      line-height: 1.7;
      color: var(--text-muted);
      max-width: 480px;
      margin: 0 auto 2rem;
    }

    /* Eligible */
    .result-eligible {
      background: linear-gradient(135deg, var(--navy) 0%, var(--navy-mid) 100%);
      color: white;
      box-shadow: var(--shadow);
    }

    .result-eligible .result-icon {
      background: rgba(212, 175, 55, 0.2);
    }

    .result-eligible h2 {
      color: var(--gold);
    }

    .result-eligible p {
      color: rgba(255, 255, 255, 0.75);
    }

    /* Not eligible */
    .result-ineligible {
      background: white;
      border: 2px solid var(--border);
      box-shadow: var(--shadow);
    }

    .result-ineligible .result-icon {
      background: #fef3c7;
    }

    .result-ineligible h2 {
      color: var(--navy);
    }

    /* Speak to doctor */
    .result-doctor {
      background: white;
      border: 2px solid var(--border);
      box-shadow: var(--shadow);
    }

    .result-doctor .result-icon {
      background: #dbeafe;
    }

    .result-doctor h2 {
      color: var(--navy);
    }

    .result-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin: 1.5rem 0;
    }

    .result-stat {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 1rem;
    }

    .result-stat .val {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--gold);
    }

    .result-stat .lbl {
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.65);
      margin-top: 2px;
    }

    .result-cta {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--gold);
      color: var(--navy);
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 1rem;
      padding: 1rem 2rem;
      border-radius: 10px;
      text-decoration: none;
      transition: all 0.2s;
      border: none;
      cursor: pointer;
    }

    .result-cta:hover {
      background: var(--gold-light);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(212, 175, 55, 0.35);
    }

    .result-secondary {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: transparent;
      color: var(--text-muted);
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
      font-size: 0.9rem;
      padding: 0.9rem 1.5rem;
      border-radius: 10px;
      text-decoration: none;
      border: 2px solid var(--border);
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 12px;
    }

    .result-secondary:hover {
      border-color: var(--navy);
      color: var(--navy);
    }

    .result-actions {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0;
    }

    /* ‚îÄ‚îÄ DISCLAIMER ‚îÄ‚îÄ */
    .disclaimer {
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 1rem 1.2rem;
      margin-top: 1.5rem;
      font-size: 0.78rem;
      color: var(--text-muted);
      line-height: 1.5;
      display: flex;
      gap: 8px;
    }

    .disclaimer-icon {
      font-size: 1rem;
      flex-shrink: 0;
    }

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    footer {
      background: var(--navy);
      color: rgba(255, 255, 255, 0.5);
      text-align: center;
      padding: 1.5rem;
      font-size: 0.8rem;
    }

    footer a {
      color: var(--gold);
      text-decoration: none;
    }

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media (max-width: 600px) {
      .step-card {
        padding: 1.5rem;
      }

      .options-grid.two-col {
        grid-template-columns: 1fr;
      }

      .bmi-inputs {
        grid-template-columns: 1fr;
      }

      .result-stats {
        grid-template-columns: 1fr;
      }

      .result-card {
        padding: 1.5rem;
      }
    }
  </style>
</head>

<body>

  <!-- NAV -->
  <nav>
    <a href="index.html" class="nav-logo">
      <img src="brand-logo.svg" alt="Figur Health">
    </a>
    <a href="programme.html" class="nav-back">‚Üê Back to Programme</a>
  </nav>

  <!-- HERO -->
  <div class="quiz-hero">
    <div class="badge">ü©∫ Medical Eligibility Quiz</div>
    <h1>Are you eligible for <span>GLP-1 treatment?</span></h1>
    <p>Answer 8 quick questions to find out if you qualify for our medically supervised weight loss programme.</p>
    <div class="trust-pills">
      <span class="trust-pill">üîí 100% Confidential</span>
      <span class="trust-pill">‚è± Takes 2 minutes</span>
      <span class="trust-pill">ü©∫ Reviewed by doctors</span>
    </div>
  </div>

  <!-- PROGRESS -->
  <div class="progress-wrap" id="progressWrap">
    <div class="progress-info">
      <span class="progress-label" id="progressLabel">Question 1 of 8</span>
      <span class="progress-pct" id="progressPct">0%</span>
    </div>
    <div class="progress-bar-track">
      <div class="progress-bar-fill" id="progressFill" style="width:0%"></div>
    </div>
  </div>

  <!-- QUIZ -->
  <div class="quiz-container">

    <!-- STEP 1: Age -->
    <div class="step-card active" id="step-1">
      <div class="step-number">Question 1 of 8</div>
      <div class="step-question">How old are you?</div>
      <div class="step-hint">GLP-1 medications are approved for adults aged 18 and above.</div>
      <div class="options-grid two-col">
        <button class="option-btn" onclick="selectOption(this, 'age', 'under18', 'ineligible')">
          <span class="opt-icon">üßí</span>
          <span class="opt-text"><strong>Under 18</strong></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'age', '18-29', 'ok')">
          <span class="opt-icon">üßë</span>
          <span class="opt-text"><strong>18 ‚Äì 29</strong></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'age', '30-44', 'ok')">
          <span class="opt-icon">üë®</span>
          <span class="opt-text"><strong>30 ‚Äì 44</strong></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'age', '45-59', 'ok')">
          <span class="opt-icon">üßî</span>
          <span class="opt-text"><strong>45 ‚Äì 59</strong></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'age', '60+', 'ok')">
          <span class="opt-icon">üßì</span>
          <span class="opt-text"><strong>60 or older</strong></span>
          <span class="check"></span>
        </button>
      </div>
      <div class="step-nav">
        <button class="btn-next" id="next-1" disabled onclick="nextStep(2)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 2: Biological Sex -->
    <div class="step-card" id="step-2">
      <div class="step-number">Question 2 of 9</div>
      <div class="step-question">What is your biological sex?</div>
      <div class="step-hint">This is medically relevant for GLP-1 dosing, hormonal conditions like PCOS, and pregnancy
        screening.</div>
      <div class="options-grid two-col">
        <button class="option-btn" onclick="selectOption(this, 'sex', 'male', 'ok')">
          <span class="opt-icon">‚ôÇÔ∏è</span>
          <span class="opt-text"><strong>Male</strong></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'sex', 'female', 'ok')">
          <span class="opt-icon">‚ôÄÔ∏è</span>
          <span class="opt-text"><strong>Female</strong></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'sex', 'intersex', 'ok')">
          <span class="opt-icon">‚ößÔ∏è</span>
          <span class="opt-text"><strong>Intersex</strong></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'sex', 'prefer_not', 'ok')">
          <span class="opt-icon">üîí</span>
          <span class="opt-text"><strong>Prefer not to say</strong></span>
          <span class="check"></span>
        </button>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(1)">‚Üê Back</button>
        <button class="btn-next" id="next-2" disabled onclick="nextStep(3)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 3: BMI -->
    <div class="step-card" id="step-3">
      <div class="step-number">Question 3 of 9</div>
      <div class="step-question">What is your height and weight?</div>
      <div class="step-hint">We use this to calculate your BMI. GLP-1 treatment is typically recommended for a BMI of
        27+ with a health condition, or 30+ without.</div>
      <div class="bmi-inputs">
        <div class="input-group">
          <label>Height (cm)</label>
          <input type="number" id="height" placeholder="e.g. 168" min="100" max="250" oninput="calcBMI()">
        </div>
        <div class="input-group">
          <label>Weight (kg)</label>
          <input type="number" id="weight" placeholder="e.g. 85" min="30" max="300" oninput="calcBMI()">
        </div>
      </div>
      <div class="bmi-result" id="bmiResult" style="display:none">
        <div>
          <div style="font-size:0.8rem;color:rgba(255,255,255,0.6);margin-bottom:2px;">Your BMI</div>
          <div class="bmi-val" id="bmiVal">‚Äî</div>
          <div class="bmi-cat" id="bmiCat"></div>
        </div>
        <div style="font-size:1.5rem;" id="bmiEmoji">üìä</div>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(2)">‚Üê Back</button>
        <button class="btn-next" id="next-3" disabled onclick="nextStep(4)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 4: Health Conditions -->
    <div class="step-card" id="step-4">
      <div class="step-number">Question 4 of 9</div>
      <div class="step-question">Do you have any of these health conditions?</div>
      <div class="step-hint">Select all that apply. Having a weight-related condition may make you eligible even at a
        lower BMI.</div>
      <div id="conditions-list">
        <div class="checkbox-option" onclick="toggleCheck(this, 'conditions')" data-value="t2d">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">Type 2 Diabetes <small>Or pre-diabetes / high blood sugar</small></span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'conditions')" data-value="hbp">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">High Blood Pressure <small>Hypertension, on medication or
              uncontrolled</small></span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'conditions')" data-value="cholesterol">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">High Cholesterol <small>Elevated LDL or triglycerides</small></span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'conditions')" data-value="sleep_apnea">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">Sleep Apnoea <small>Obstructive sleep apnoea or snoring</small></span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'conditions')" data-value="pcos">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">PCOS <small>Polycystic ovary syndrome</small></span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'conditions')" data-value="none">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">None of the above</span>
        </div>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(3)">‚Üê Back</button>
        <button class="btn-next" id="next-4" disabled onclick="nextStep(5)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 5: Previous Attempts -->
    <div class="step-card" id="step-5">
      <div class="step-number">Question 5 of 9</div>
      <div class="step-question">Have you tried to lose weight before?</div>
      <div class="step-hint">This helps us understand your weight loss history. There's no wrong answer.</div>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'attempts', 'diet_exercise', 'ok')">
          <span class="opt-icon">ü•ó</span>
          <span class="opt-text"><strong>Yes ‚Äî diet and exercise</strong><span>I've tried lifestyle
              changes</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'attempts', 'medication', 'ok')">
          <span class="opt-icon">üíä</span>
          <span class="opt-text"><strong>Yes ‚Äî weight loss medication</strong><span>I've tried prescription or OTC
              medication</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'attempts', 'multiple', 'ok')">
          <span class="opt-icon">üîÑ</span>
          <span class="opt-text"><strong>Yes ‚Äî multiple methods</strong><span>I've tried several
              approaches</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'attempts', 'none', 'ok')">
          <span class="opt-icon">üÜï</span>
          <span class="opt-text"><strong>No ‚Äî this is my first time</strong><span>I haven't tried structured weight loss
              before</span></span>
          <span class="check"></span>
        </button>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(4)">‚Üê Back</button>
        <button class="btn-next" id="next-5" disabled onclick="nextStep(6)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 6: Contraindications -->
    <div class="step-card" id="step-6">
      <div class="step-number">Question 6 of 9</div>
      <div class="step-question">Do any of these apply to you?</div>
      <div class="step-hint">These are medical contraindications for GLP-1 medications. Select all that apply.</div>
      <div id="contra-list">
        <div class="checkbox-option" onclick="toggleCheck(this, 'contra')" data-value="thyroid">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">Personal or family history of medullary thyroid cancer (MTC)</span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'contra')" data-value="men2">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">Multiple Endocrine Neoplasia syndrome type 2 (MEN2)</span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'contra')" data-value="pancreatitis">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">History of pancreatitis</span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'contra')" data-value="pregnant">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">Currently pregnant or breastfeeding</span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'contra')" data-value="t1d">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label">Type 1 Diabetes</span>
        </div>
        <div class="checkbox-option" onclick="toggleCheck(this, 'contra')" data-value="none_contra">
          <span class="custom-checkbox"></span>
          <span class="checkbox-label"><strong>None of the above apply to me</strong></span>
        </div>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(5)">‚Üê Back</button>
        <button class="btn-next" id="next-6" disabled onclick="nextStep(7)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 7: Current Medications -->
    <div class="step-card" id="step-7">
      <div class="step-number">Question 7 of 9</div>
      <div class="step-question">Are you currently taking any medications?</div>
      <div class="step-hint">Some medications may interact with GLP-1 treatments. Our doctors will review your full
        medication list.</div>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'meds', 'none', 'ok')">
          <span class="opt-icon">‚úÖ</span>
          <span class="opt-text"><strong>No medications</strong><span>I'm not on any regular medication</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'meds', 'bp_cholesterol', 'ok')">
          <span class="opt-icon">üíô</span>
          <span class="opt-text"><strong>Blood pressure / cholesterol</strong><span>Statins, ACE inhibitors,
              beta-blockers, etc.</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'meds', 'diabetes', 'ok')">
          <span class="opt-icon">ü©∏</span>
          <span class="opt-text"><strong>Diabetes medication</strong><span>Metformin, insulin, SGLT2 inhibitors,
              etc.</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'meds', 'other', 'ok')">
          <span class="opt-icon">üíä</span>
          <span class="opt-text"><strong>Other medications</strong><span>Thyroid, antidepressants, or other
              prescriptions</span></span>
          <span class="check"></span>
        </button>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(6)">‚Üê Back</button>
        <button class="btn-next" id="next-7" disabled onclick="nextStep(8)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 8: Goal -->
    <div class="step-card" id="step-8">
      <div class="step-number">Question 8 of 9</div>
      <div class="step-question">How much weight are you looking to lose?</div>
      <div class="step-hint">GLP-1 medications work best for sustained, long-term weight loss. Clinical trials show up
        to 21% body weight reduction.</div>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'goal', '5-10kg', 'ok')">
          <span class="opt-icon">üéØ</span>
          <span class="opt-text"><strong>5 ‚Äì 10 kg</strong><span>Moderate weight loss goal</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'goal', '10-20kg', 'ok')">
          <span class="opt-icon">‚öñÔ∏è</span>
          <span class="opt-text"><strong>10 ‚Äì 20 kg</strong><span>Significant weight loss goal</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'goal', '20-30kg', 'ok')">
          <span class="opt-icon">üèÜ</span>
          <span class="opt-text"><strong>20 ‚Äì 30 kg</strong><span>Major transformation goal</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'goal', '30kg+', 'ok')">
          <span class="opt-icon">üåü</span>
          <span class="opt-text"><strong>30 kg or more</strong><span>Substantial long-term goal</span></span>
          <span class="check"></span>
        </button>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(7)">‚Üê Back</button>
        <button class="btn-next" id="next-8" disabled onclick="nextStep(9)">Continue ‚Üí</button>
      </div>
    </div>

    <!-- STEP 9: Commitment -->
    <div class="step-card" id="step-9">
      <div class="step-number">Question 9 of 9</div>
      <div class="step-question">Are you ready to commit to a medically supervised programme?</div>
      <div class="step-hint">Our programme includes regular check-ins with a doctor, nutritional guidance, and ongoing
        support for 16 months.</div>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'commit', 'yes', 'ok')">
          <span class="opt-icon">üí™</span>
          <span class="opt-text"><strong>Yes, absolutely</strong><span>I'm ready to commit to the full
              programme</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'commit', 'mostly', 'ok')">
          <span class="opt-icon">ü§î</span>
          <span class="opt-text"><strong>Mostly yes</strong><span>I have some questions but I'm interested</span></span>
          <span class="check"></span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'commit', 'unsure', 'ok')">
          <span class="opt-icon">‚ùì</span>
          <span class="opt-text"><strong>I'm not sure yet</strong><span>I'd like to learn more first</span></span>
          <span class="check"></span>
        </button>
      </div>
      <div class="step-nav">
        <button class="btn-back" onclick="prevStep(8)">‚Üê Back</button>
        <button class="btn-next" id="next-9" disabled onclick="showResult()">See My Results ‚Üí</button>
      </div>
    </div>

    <!-- RESULT: ELIGIBLE -->
    <div class="result-card result-eligible" id="result-eligible">
      <div class="result-icon">üéâ</div>
      <h2>Great news ‚Äî you appear eligible!</h2>
      <p>Based on your answers, you meet the initial criteria for GLP-1 weight loss treatment. Our doctors will review
        your full medical history before prescribing.</p>
      <div class="result-stats">
        <div class="result-stat">
          <div class="val">21%</div>
          <div class="lbl">Avg. body weight lost</div>
        </div>
        <div class="result-stat">
          <div class="val">5√ó</div>
          <div class="lbl">More than diet alone</div>
        </div>
        <div class="result-stat">
          <div class="val">16mo</div>
          <div class="lbl">Full programme length</div>
        </div>
      </div>
      <div class="result-actions">
        <a href="programme.html" class="result-cta">üöÄ Start Your Programme</a>
        <a href="faqs.html" class="result-secondary">Read FAQs first</a>
      </div>
      <div class="disclaimer">
        <span class="disclaimer-icon">‚ÑπÔ∏è</span>
        <span>This quiz is a preliminary screening tool only. Final eligibility is determined by a qualified doctor
          after a full medical consultation. Results are not a medical diagnosis.</span>
      </div>
    </div>

    <!-- RESULT: SPEAK TO DOCTOR -->
    <div class="result-card result-doctor" id="result-doctor">
      <div class="result-icon">ü©∫</div>
      <h2>We'd like to learn more about you</h2>
      <p>Some of your answers suggest we should have a doctor review your case individually. This is common and doesn't
        mean you're ineligible ‚Äî it just means we want to make sure we find the right treatment for you.</p>
      <div class="result-actions">
        <a href="programme.html" class="result-cta">üìû Speak to a Doctor</a>
        <a href="faqs.html" class="result-secondary">Read FAQs</a>
      </div>
      <div class="disclaimer">
        <span class="disclaimer-icon">‚ÑπÔ∏è</span>
        <span>This quiz is a preliminary screening tool only. Final eligibility is determined by a qualified doctor
          after a full medical consultation. Results are not a medical diagnosis.</span>
      </div>
    </div>

    <!-- RESULT: NOT ELIGIBLE -->
    <div class="result-card result-ineligible" id="result-ineligible">
      <div class="result-icon">üíõ</div>
      <h2>GLP-1 may not be right for you right now</h2>
      <p>Based on your answers, GLP-1 medication may not be the most appropriate option for you at this time. This could
        be due to age, BMI, or a medical contraindication. We recommend speaking to your GP for personalised advice.</p>
      <div class="result-actions">
        <a href="health-guide.html" class="result-cta">üìö Explore Our Health Guide</a>
        <button class="result-secondary" onclick="restartQuiz()">‚Ü© Retake Quiz</button>
      </div>
      <div class="disclaimer">
        <span class="disclaimer-icon">‚ÑπÔ∏è</span>
        <span>This quiz is a preliminary screening tool only. Final eligibility is determined by a qualified doctor
          after a full medical consultation. Results are not a medical diagnosis.</span>
      </div>
    </div>

  </div>

  <!-- FOOTER -->
  <footer>
    <p>¬© 2025 Figur Health. All rights reserved. &nbsp;|&nbsp; <a href="legal/privacy-policy.html">Privacy Policy</a>
      &nbsp;|&nbsp; <a href="legal/terms-and-conditions.html">Terms</a></p>
    <p style="margin-top:6px;">This quiz does not constitute medical advice. Always consult a qualified healthcare
      professional.</p>
  </footer>

  <script>
    // ‚îÄ‚îÄ State ‚îÄ‚îÄ
    const answers = {};
    let currentStep = 1;
    const TOTAL_STEPS = 9;

    // ‚îÄ‚îÄ Single-select option ‚îÄ‚îÄ
    function selectOption(btn, key, value, flag) {
      const parent = btn.closest('.options-grid');
      parent.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      answers[key] = { value, flag };
      const stepNum = btn.closest('.step-card').id.replace('step-', '');
      document.getElementById('next-' + stepNum).disabled = false;
    }

    // ‚îÄ‚îÄ Checkbox toggle (uses data-value on div, no hidden inputs) ‚îÄ‚îÄ
    function toggleCheck(el, key) {
      const val = el.dataset.value;
      const container = el.parentElement;

      // "None" option clears others; others uncheck "none"
      if (val === 'none' || val === 'none_contra') {
        container.querySelectorAll('.checkbox-option').forEach(o => {
          if (o !== el) o.classList.remove('checked');
        });
        el.classList.toggle('checked');
      } else {
        container.querySelectorAll('.checkbox-option').forEach(o => {
          const v = o.dataset.value;
          if (v === 'none' || v === 'none_contra') o.classList.remove('checked');
        });
        el.classList.toggle('checked');
      }

      // Collect checked values
      const checked = [...container.querySelectorAll('.checkbox-option.checked')].map(o => o.dataset.value);
      answers[key] = checked;

      // Enable next button if at least one checked
      const stepNum = el.closest('.step-card').id.replace('step-', '');
      document.getElementById('next-' + stepNum).disabled = checked.length === 0;
    }

    // ‚îÄ‚îÄ BMI Calculation ‚îÄ‚îÄ
    function calcBMI() {
      const h = parseFloat(document.getElementById('height').value);
      const w = parseFloat(document.getElementById('weight').value);
      const resultEl = document.getElementById('bmiResult');
      const nextBtn = document.getElementById('next-3');

      if (h > 0 && w > 0 && h < 250 && w < 300) {
        const bmi = (w / ((h / 100) ** 2)).toFixed(1);
        document.getElementById('bmiVal').textContent = bmi;

        let cat, emoji, flag;
        if (bmi < 18.5) { cat = 'Underweight'; emoji = '‚ö†Ô∏è'; flag = 'ineligible'; }
        else if (bmi < 25) { cat = 'Healthy weight'; emoji = '‚úÖ'; flag = 'low'; }
        else if (bmi < 27) { cat = 'Slightly overweight'; emoji = 'üü°'; flag = 'borderline'; }
        else if (bmi < 30) { cat = 'Overweight (BMI 27+)'; emoji = 'üü†'; flag = 'ok'; }
        else if (bmi < 35) { cat = 'Obese Class I (BMI 30+)'; emoji = 'üî¥'; flag = 'ok'; }
        else { cat = 'Obese Class II/III'; emoji = 'üî¥'; flag = 'ok'; }

        document.getElementById('bmiCat').textContent = cat;
        document.getElementById('bmiEmoji').textContent = emoji;
        resultEl.style.display = 'flex';
        answers['bmi'] = { value: parseFloat(bmi), flag };
        nextBtn.disabled = false;
      } else {
        resultEl.style.display = 'none';
        nextBtn.disabled = true;
      }
    }

    // ‚îÄ‚îÄ Navigation ‚îÄ‚îÄ
    function nextStep(n) {
      document.getElementById('step-' + currentStep).classList.remove('active');
      currentStep = n;
      document.getElementById('step-' + n).classList.add('active');
      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function prevStep(n) {
      document.getElementById('step-' + currentStep).classList.remove('active');
      currentStep = n;
      document.getElementById('step-' + n).classList.add('active');
      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function updateProgress() {
      const pct = Math.round(((currentStep - 1) / TOTAL_STEPS) * 100);
      document.getElementById('progressFill').style.width = pct + '%';
      document.getElementById('progressPct').textContent = pct + '%';
      if (currentStep <= TOTAL_STEPS) {
        document.getElementById('progressLabel').textContent = 'Question ' + currentStep + ' of ' + TOTAL_STEPS;
      }
    }

    // ‚îÄ‚îÄ Result Logic ‚îÄ‚îÄ
    function showResult() {
      // Hide all steps and progress
      document.querySelectorAll('.step-card').forEach(s => s.classList.remove('active'));
      document.getElementById('progressWrap').style.display = 'none';
      document.getElementById('progressFill').style.width = '100%';

      let result = 'eligible';

      // Age check
      if (answers.age && answers.age.flag === 'ineligible') {
        result = 'ineligible';
      }

      // BMI check
      if (answers.bmi) {
        const bmiVal = answers.bmi.value;
        const hasCondition = answers.conditions &&
          !answers.conditions.includes('none') &&
          answers.conditions.length > 0;

        if (bmiVal < 18.5) {
          result = 'ineligible';
        } else if (bmiVal < 27 && !hasCondition) {
          result = 'ineligible';
        } else if (bmiVal >= 27 && bmiVal < 30 && !hasCondition) {
          result = 'doctor'; // borderline ‚Äî needs doctor review
        }
      }

      // Contraindications check
      if (answers.contra && !answers.contra.includes('none_contra')) {
        const hardStop = ['thyroid', 'men2', 'pregnant', 't1d'];
        const hasHardStop = answers.contra.some(c => hardStop.includes(c));
        if (hasHardStop) result = 'ineligible';

        const softStop = ['pancreatitis'];
        const hasSoftStop = answers.contra.some(c => softStop.includes(c));
        if (hasSoftStop && result !== 'ineligible') result = 'doctor';
      }

      document.getElementById('result-' + result).classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ‚îÄ‚îÄ Restart ‚îÄ‚îÄ
    function restartQuiz() {
      Object.keys(answers).forEach(k => delete answers[k]);
      document.querySelectorAll('.result-card').forEach(r => r.classList.remove('active'));
      document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
      document.querySelectorAll('.checkbox-option').forEach(el => el.classList.remove('checked'));
      document.querySelectorAll('.btn-next').forEach(b => b.disabled = true);
      document.getElementById('height').value = '';
      document.getElementById('weight').value = '';
      document.getElementById('bmiResult').style.display = 'none';
      document.getElementById('progressWrap').style.display = 'block';
      currentStep = 1;
      document.getElementById('step-1').classList.add('active');
      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>

</body>

</html>